<!doctype html>
<html lang="en">

<head>

    <title>Apa itu Online Charging System(OCS) Part 1 - JPrasojo's blog</title>

    <!-- meta -->
    <meta charset="utf-8" />
    <meta name="author" content="Lintang JP" />
    <meta name="dc.language" content="en" />
    <meta name="dc.license" content="">

    <!-- favicon -->
    <link rel="icon" href="/theme/favicon.ico" type="image/x-icon">

    <!-- newsfeeds -->

    <!-- assets -->
    <!--[if lt IE 9]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
   
    <link href="https://fonts.googleapis.com/css?family=Linden+Hill:400,400italic" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Anonymous+Pro' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/theme/css/simplegrid.css" type="text/css">
    <link rel="stylesheet" href="/theme/css/main.css" type="text/css">
    <link rel="stylesheet" href="/theme/css/pygments.css" type="text/css">
    <!--[if lt IE 8]>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css" rel="stylesheet" type="text/css">
    <![endif]-->
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet" type="text/css">

</head>

<body>

   <div class="grid grid-pad">
     <div class="col-1-1">        
       <ul id="mainnav">
          <li><a href="">home</a></li>
          <li><a href="/pages/hello-world.html">About</a></li>
       </ul>
       <div id="blogtitle"><a href="">JPrasojo's blog</a></div>
       <div id="blogsubtitle"><a href=""></a></div>
     </div>
    </div>

    <div class="grid grid-pad">
       <div id="left-side" class="col-8-12">
          <section id="content" class="hyphenate">

    <h1 class="title">Apa itu Online Charging System(OCS) Part 1</h1>

        <div class="date">
            <p>written on Sun 23 November 2014
            by <a rel="author" href="/pages/aboutme.html">Lintang JP</a></p>
        </div>

    <div class="clearboth"><p>Assalamu'alaikum,</p>
<p>Cihuy, gaya dikit, sekarang ngeblog pake vim :D. Setelah sukses migrasi 2 blog lama ke github, sekarang pertama kalinya nulis lagi pake vim :D
Udah lama pengen nulis tentang seri telekomunikasi, setelah melepaskan diri dari dunia J2EE application server sejak 6 (hampir 7 tahun yang lalu) karena insyaf :D
Ternyata di tempat yang sekarang, pengetahuan java itu masih dibutuhkan sedikit-sedikit kok, apalagi konsep pemrograman. Java tetep dipake, tapi karena sourcenya nggak dipublish sama team Design Unit, jadi ya, cara mudah nge-trace problem tentu dengan decompile .class nya :D, karena ternyata nggak di obfuscate juga :D. Knowledge programming dan dasar-dasarnya juga alhamdulillah masih terpakai, walaupun seringnya sekarang debug script, bukan bikin script, he he. Unix/Linux juga kepake banget, database knowledge juga (jadi siapa tuh yang bilang kuliah ngga ada gunanya ? :D ). Ya kalo anda memutuskan jalan hidup yang keras untuk jadi engineer ya resikonya begini lah. Lho Bill Gates apa bukan engineer juga ? Dia drop out kuliah lho ? Kalo anda mikir gitu ya silakan, saya ndak maksa. Nanti kalau ada sukses karena terinspirasi tulisan ini, kasih tau saya ya :D.</p>
<p>Yakk, balik ke topik (enak juga ngetik di vim ternyata ya), lancar jaya. Jadii, di tulisan saya yang lain di topik Telco, dulu saya pernah menulis bahwa Billing adalah jantungnya telekomunikasi. Ini masih benar, karena Billing tetap sumber pemrosesan pemasukan perusahaan Telekomunikasi. Tapi ada satu yang kurang disitu, anda tau ? Yak, betul. Kebanyakan billing tidak melakukan prosesnya secara realtime. Bukan berarti kuno, karena Billing punya fungsi dan keunggulannya sendiri. Nanti kita bahas ya bagaimana Online Charging System dan Billing System bisa co-exist satu sama lain.</p>
<p>Lalu bagaimana dengan Online Charging System ? ya tentu saja sesuai namanya, 'Online', berarti harus On terus, dan realtime. Online Charging System (kita singkat OCS aja ya) dalam hal ini secara simplenya bertugas melakukan fungsi Rating secara online dan realtime. Berikut kira-kira list lengkap fungsi dari OCS :</p>
<p><strong>0. Subscriber database</strong></p>
<p><strong>1. Realtime rating</strong>
Masih ingat apa itu rating ? Yak, di artikel yang duluuu banget tentang Billing ( cari sendiri ya, belum tau caranya refer link di halaman yg sama pake markdown :p) yaitu proses untuk menentukan cost dari sebuah event. Nah, karena realtime, maka semua parameter yang dibutuhkan untuk menentukan cost tsb ya harus tersedia saat itu juga..nah, ini bedanya sama Billing, dan ini salah satu yang bikin mereka bisa co-exist :). </p>
<p>Contohnya untuk menentukan cost dari sebuah voice call antar operator pada jam tertentu misalnya. Berikut parameter realtime yang harus ada dan akan dibutuhkan kira-kira seberti berikut :</p>
<div class="highlight"><pre>- Calling Number ( sering disebut A#, A party, etc )
- Called Number ( sering disebut B#, B party, etc), buat nentuin tujuan nelponnya kemana. Kalo sesama operator biasanya gratis atau lebih murah daripada nelpon ke beda operator kan ? Trus kalo yang sering nelpon ke nomer premium, pasti tarifnya beda juga kan ? :)
- Location Information, kalo di spek 3GPP disebut locationNumber, berupa angka tertentu yang menunjukkan lokasi A# saat melakukan panggilan. Biasanya dipakai untuk menggabungkan beberapa cell-id menjadi satu. Kenapa harus digabungin ? ya bayangin aja, operator gede BTS nya sampe puluhan ribuan, masing-masing BTS biasanya punya 3 cell-id, mabok dah kalo yang dijadiin parameter buat Rating nya cell-id :D. Dari parameter ini juga ketauan, pas lagi nelpon ini lagi di Home Network ( dalam negeri biasanya ), atau lagi Roaming di luar negeri.
- Calling Time, waktu dimana event itu terjadi. Dari MSC biasanya dalam millisecond, tapi operator berhak rounding dong ke second terdekat ;)
- Faktor lain, misal: Sisa Bonus, daftar paket promo apa nggak 
</pre></div>


<p><strong>2. Realtime charging</strong>
Nah, setelah costnya berhasil ditentukan, tinggal ngurangin pulsa deh, secara realtime. Jadi begitu voice call selesai ditutup, langsung cek pulsa, keliatan deh sisa pulsa tinggal berapa, ga perlu nunggu sebulan pas billingnya keluar :) </p>
<p><strong>3. Realtime balance management</strong>
Balance management ini termasuk didalamnya manajemen sisa pulsa :D. Tau kan, jaman sekarang pake smartphone, data nyala terus, sambil kirim sms, pulsa habis, trus pelanggan isi ulang dan ngecek sisa pulsanya. Nah, ada duit masuk, duit keluar, dan bisa jadi menuju ke 'dompet pulsa' yang sama. Ini maksudnya balance management.</p>
<p>Nah, selain fungsi dasar diatas, biasanya OCS juga bisa melakukan hal-hal sbb:</p>
<p><strong>1. Mengirimkan notifikasi ke pelanggan</strong>
Pernah gak tiba-tiba nerima notifikasi 'sisa pulsa anda tinggal Rp xxx,- kirim 2 sms lagi untuk mendapat free sms seharian'. Nah, fitur notifikasi seperti ini bisa dimiliki oleh OCS. Alasannya ya wajar, karena OCS melakukan rating dan charging secara realtime, maka OCS bisa memberikan notifikasi lebih akurat juga. Fitur ini juga banyak dipakai buat pelanggan yang sedang roaming ke luar negeri, untuk menerima notifikasi peringatan tagihan ketika mencapai usage tertentu. Beberapa negara yang saya tau sudah mulai memiliki regulasi agar setiap operator memiliki fungsi notifikasi roaming control seperti ini.</p>
<p><strong>2. Maintain lifecycle </strong>
Lifecycle itu lebih populer dengan nama 'masa tenggang' kalo di sistem prabayar. Masa tenggang pertama, anda hanya bisa menerima panggilan. Masa tenggang berikutnya, nomer anda di blok tidak bisa melakukan dan menerima panggilan. Masa tenggang berikutnya, pulsa anda hangus :). Masa tenggang terakhir ? Nomer anda sudah dihapus dari jaringan telekomunikasi (baca:hangus). Nah, karena OCS menyimpan data subscription (kapan mulai start berlangganan, kapan masa tenggang, berapa sisa pulsa, dst), maka OCS juga lah yang biasanya secara realtime akan melakukan komunikasi dengan network element (dalam hal ini HLR, Home Location Register), untuk melakukan pemblokiran nomer.</p>
<p><strong>3. Maintain announcement list buat pelanggan</strong>
Pernah gak, sisa pulsa tinggal 500 perak, lalu dipake buat nelpon ? Biasanya kita dapet 'ceramah' panjang dulu dari operator, isinya kira-kira 'pulsa anda hampir habis, silakan melakukan isi ulang bla bla bla', trus baru telponnya nyambung. Lalu contoh lain, ketika lagi gencar promo dari operator, 1x tiap hari ketika akan melakukan panggilan telepon, anda dapet 'ceramah' lagi ? nah, OCS juga bisa mengirimkan kode announcement ke MSC, berubah-ubah sesuai dengan kondisi pelanggan. MSC akan menerima perintah pemutaran announcement, dan memutar announcement yang diperintahkan.Atau ketika nomer anda hampir expired, anda akan mendengar 'ceramah' untuk segera membeli voucher baru :)</p>
<p><strong>4. Revenue Reporting</strong>
Kalo ini sepertinya udah jelas ya, OCS juga merupakan sumber digalinya laporan keuangan laba perusahaan :). Hal ini biasanya tidak diproses secara realtime, karena OCS dirancang untuk transaksi online, bukan sebagai transaksi reporting. Biasanya setiap kali sebuah event selesai dirating, OCS akan menulis data transaksi berupa file CDR ( Call Detail Record ) yang kemudian bisa di proses dan di feed kedalam database untuk keperluan reporting.</p>
<p><strong>5. Centralized Subscriber and QoS storage</strong>
Nah, ini fungsi terbaru OCS yang paling keren di era Broadband. Yak, OCS juga bisa memberikan data mengenai QoS yang seharusnya dimiliki oleh pelanggan. Misal, seorang pelanggan A berlangganan paket data yang paling murah, seribu perak seharian, internet unlimited. Lalu ada pelanggan B, berlangganan paket data premium 500 ribu perak sebulan. Nah, karena OCS memaintain data paket apa saja yang dimiliki pelanggan, maka OCS juga merupakan sumber informasi QoS apa yang seharusnya diberikan pada pelanggan. Untuk pelanggan premium, tentu sudah seharusnya mendapat QoS paling tinggi, wajar karena dia bayar mahal untuk paket datanya. Nah, informasi QoS ini akan diberikan oleh OCS melalui sebuah protokol yang baru di sahkan oleh 3GPP, namanya Sy. Lebih lanjut tentang protokol charging di bagian ke 2 ya. Intinya, informasi QoS profile akan di feed oleh OCS ke PCRF, yang akan menerima query dari PCEF tentang QoS profile apa yang seharusnya di apply untuk tiap pelanggan.</p>
<p>Lho, ngapain harus lewat PCRF, kenapa PCEF nggak langsung nanya ke OCS kalo gitu, daripada harus lewat calo dulu kan ? :D. Ya bisa juga sih, spek 3GPP memungkinkan PCEF mengirim protokol Gx ke either PCRF atau OCS langsung (kalau OCS nya support). Masalahnya arsitektur yang terlanjur berkembang untuk paket data adalah, terpisahnya database pelanggan dan database QoS paket data. Arsitektur yang umum ( karena network operator biasanya adalah evolusi dari 2G, 3G, ke 4G ) yaitu database QoS ditaruh di PCRF, dan database pelanggan(account dan balance) berada di OCS. Nah untuk menyatukan data pelanggan ini, dan juga agar ketika mendaftarkan paket data tidak perlu mendaftarkan ke 2 tempat (OCS dan PCRF), maka arsitektur yang baru dikembangkan adalah, data pelanggan akan dimaintain di OCS, dan PCRS akan menggunakan protokol Sy untuk mengambil data QoS dari OCS, dan mengapply nya via PCEF. </p>
<p>Dapet gambar yang bagus nih di salah satu white paper nya vendor OCS terkemuka.</p>
<p><img alt="Hubungan OCS, PCRF, dan PCEF" src="/images/ocs-pcrf.jpg" /></p>
<p>Udah pusing? berasa mbulet ? Silakan tinggalkan komentar. Kalau ada yang dirasa kurang masuk akal juga monggo silakan tinggalkan komentar. Kalau saya yang salah, tulisannya akan saya ralat, tidak usah kuatir ;)</p>
<p>Lanjut ke part 2 yah, protokol standar apa aja yang disupport oleh -kebanyakan- Online Charging System :)</p>
<p>Cheers.</p></div>

        <div class="tags">
            <p>This entry was tagged on  
                <a href="/tag/charging-system.html">#Charging_System</a>,                 <a href="/tag/intelligent-network.html">#Intelligent_Network</a>,                 <a href="/tag/ocs.html">#OCS</a> and                 <a href="/tag/prepaid-system.html">#Prepaid_System</a></p>
        </div>


          </section>
       </div>

       <div id="right-side" class="col-1-12">&nbsp;</div>
       <div id="right-side" class="col-3-12">

<div class="section-container">
   <h3>Blogroll</h3>
   <ul>
      <li><a href="http://getpelican.com/" target="_blank">Pelican <i class="fa fa-globe fa-fw"></i></a></li>
      <li><a href="http://python.org/" target="_blank">Python.org <i class="fa fa-globe fa-fw"></i></a></li>
      <li><a href="https://vhynaulia.wordpress.com/" target="_blank">Blognya TePot <i class="fa fa-globe fa-fw"></i></a></li>
      <li><a href="http://theprasojos.wordpress.com" target="_blank">Theprasojos Family <i class="fa fa-globe fa-fw"></i></a></li>
   </ul>
</div>

<div class="section-container">
   <h3>Social Network</h3>
   <ul>
      <li>
        <a href="https://twitter.com/jprasojo" target="_blank">Twitter&nbsp;
           <i class="fa fa-twitter fa-fw"></i>
        </a>
      </li>
      <li>
        <a href="https://www.linkedin.com/in/lintangprasojo" target="_blank">Linkedin&nbsp;
           <i class="fa fa-linkedin fa-fw"></i>
        </a>
      </li>
   </ul>
</div>

<div class="section-container">
   <h3>Categories</h3>
   <ul>
        <li><a href="/category/family.html">Family <i class="fa fa-folder-open fa-fw"></i></a></li>
        <li><a href="/category/java.html">Java <i class="fa fa-folder-open fa-fw"></i></a></li>
        <li><a href="/category/renungan.html">Renungan <i class="fa fa-folder-open fa-fw"></i></a></li>
        <li><a href="/category/telco.html">Telco <i class="fa fa-folder-open fa-fw"></i></a></li>
        <li><a href="/category/travelling.html">Travelling <i class="fa fa-folder-open fa-fw"></i></a></li>
        <li><a href="/category/unixlinux.html">Unix/Linux <i class="fa fa-folder-open fa-fw"></i></a></li>
   </ul>
</div>

<div class="section-container">
   <h3>Tags</h3>
   <ul class="tagcloud">
        <li class="tag-4"><a href="/tag/merdeka-walk.html">#merdeka_walk</a></li>
        <li class="tag-4"><a href="/tag/tips.html">#Tips</a></li>
        <li class="tag-4"><a href="/tag/martebe.html">#martebe</a></li>
        <li class="tag-4"><a href="/tag/tiara-medan.html">#tiara_medan</a></li>
        <li class="tag-4"><a href="/tag/charging-system.html">#Charging_System</a></li>
        <li class="tag-4"><a href="/tag/harare.html">#harare</a></li>
        <li class="tag-4"><a href="/tag/wordpress-verify-google-webmaster-internet.html">#wordpress_verify_google_webmaster_Internet</a></li>
        <li class="tag-4"><a href="/tag/broadband-at-home-internet-3g.html">#Broadband_at_home_Internet_3G</a></li>
        <li class="tag-4"><a href="/tag/intelligent-network.html">#Intelligent_Network</a></li>
        <li class="tag-4"><a href="/tag/indonesian-embassy.html">#indonesian_embassy</a></li>
        <li class="tag-4"><a href="/tag/family.html">#Family</a></li>
        <li class="tag-4"><a href="/tag/laptop.html">#Laptop</a></li>
        <li class="tag-4"><a href="/tag/telco-billing-cdma-450-3g.html">#Telco_Billing_CDMA_450_3G</a></li>
        <li class="tag-4"><a href="/tag/embassy.html">#embassy</a></li>
        <li class="tag-4"><a href="/tag/tips-unix-linux-stuff-web-server-nginx.html">#Tips_Unix_Linux_stuff_Web_Server_Nginx</a></li>
        <li class="tag-4"><a href="/tag/travel.html">#Travel</a></li>
        <li class="tag-4"><a href="/tag/jumpstart-unix-linux-stuff-solaris.html">#jumpstart_Unix_Linux_stuff_solaris</a></li>
        <li class="tag-4"><a href="/tag/prepaid-system.html">#Prepaid_System</a></li>
        <li class="tag-4"><a href="/tag/ruby-dsl-linux-stuff.html">#Ruby_DSL_Linux_stuff</a></li>
        <li class="tag-4"><a href="/tag/grand-angkasa.html">#grand_angkasa</a></li>
        <li class="tag-3"><a href="/tag/renungan.html">#Renungan</a></li>
        <li class="tag-4"><a href="/tag/medan.html">#medan</a></li>
        <li class="tag-4"><a href="/tag/os-linux-stuff-opensolaris-solaris.html">#OS_Linux_stuff_OpenSolaris_solaris</a></li>
        <li class="tag-4"><a href="/tag/cms.html">#CMS</a></li>
        <li class="tag-3"><a href="/tag/telco-billing.html">#Telco_Billing</a></li>
        <li class="tag-1"><a href="/tag/.html">#</a></li>
        <li class="tag-4"><a href="/tag/grand-angkasa-medan.html">#grand_angkasa_medan</a></li>
        <li class="tag-4"><a href="/tag/lembur-kuring-medan.html">#lembur_kuring_medan</a></li>
        <li class="tag-4"><a href="/tag/interconnect-telekomunikasi-telco-billing-interkoneksi.html">#Interconnect_Telekomunikasi_Telco_Billing_Interkoneksi</a></li>
        <li class="tag-4"><a href="/tag/tips-unix-linux-stuff.html">#Tips_Unix_Linux_stuff</a></li>
        <li class="tag-4"><a href="/tag/linux-stuff.html">#Linux_stuff</a></li>
        <li class="tag-4"><a href="/tag/ocs.html">#OCS</a></li>
        <li class="tag-4"><a href="/tag/ireland.html">#Ireland</a></li>
        <li class="tag-4"><a href="/tag/zimbabwe.html">#zimbabwe</a></li>
        <li class="tag-4"><a href="/tag/brastagi.html">#brastagi</a></li>
        <li class="tag-4"><a href="/tag/atutor-unix-linux-stuff-web-server-internet-nginx.html">#aTutor_Unix_Linux_stuff_Web_Server_Internet_Nginx</a></li>
        <li class="tag-4"><a href="/tag/green-card.html">#Green_Card</a></li>
        <li class="tag-4"><a href="/tag/visa.html">#VISA</a></li>
   </ul>
</div>



          <div class="section-container" id="copyright">
             <p>This Blog generated by <a href="http://getpelican.com/">Pelican</a> using <a href="https://github.com/habibillah/pujangga">Pujangga</a> theme. All content on this blog, unless stated otherwise, is licensed under the <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0 International license</a>.</p>
          </div>
       </div>
    </div>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', '']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
 

    <script type="text/javascript" src="/theme/js/hyphenator.js"></script>
    <script type="text/javascript">
      Hyphenator.config({
          donthyphenateclassname: 'docutils',
          useCSS3hyphenation: true
      });
      Hyphenator.run();
    </script>

</body>

</html>