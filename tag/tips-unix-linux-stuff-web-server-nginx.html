<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>JPrasojo's blog - Tips Unix Linux stuff Web Server Nginx</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">JPrasojo's blog </a></h1>
                <nav><ul>
                    <li><a href="/pages/hello-world.html">About</a></li>
                    <li><a href="/category/blog.html">blog</a></li>
                    <li><a href="/category/telco.html">Telco</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="/playing-around-with-low-end-vps-box.html">Playing around with low end VPS box</a></h1>
<footer class="post-info">
        <abbr class="published" title="2010-04-05T00:00:00+02:00">
                Published: Mon 05 April 2010
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/lintang-jp.html">Lintang JP</a>
        </address>
<p>In <a href="/category/blog.html">blog</a>. </p>
<p>tags: <a href="/tag/tips-unix-linux-stuff-web-server-nginx.html">Tips Unix Linux stuff Web Server Nginx</a> </p>
</footer><!-- /.post-info --><p>Last week I just bought a VPS account for playing around with. It feels so great having our own shell account with root login so that we can do anything inside. I bought it from <a href="http://www.pasarhosting.com">here</a>. First of all, I bought the minimalist one, with 64mb memory, with no burstable ram :D, using Centos. I simply cant do anything, their Centos installation itself took around 20-30mb ram. I also not well enough playing with Yum. This is not great, so I upgraded the account to 128mb ram. At the same time I noticed that besides Centos, the hosting provider also provide Debian Lenny as the OS....why dont you said that from the beginning ??? :D Now, I'm running Lenny with 128mb ram. The VM specs itself it's not that bad, considering it's powered with 2 cpu @3Ghz, 128mb ram with no swap ( this guy <a href="https://www.vpsmart.com/clients/knowledgebase.php?action=displayarticle&amp;id=4">here</a> shares a great script to create a fake swap, but I dont need it any longer ;) read the rest of the entry to know why... ), and with 10Gb disk, more than enough storage for minimalist like me :)</p>
<p>So, first thing first, chop all the unnecessary program, replace it with the program with smaller 'cost'. Just do ps -ef and there I found apache2 and Sendmail sitting around and eating my memory. Just do :</p>
<h1>apt-get remove --purge sendmail apache2</h1>
<p>And dont forget to kill them, and remove them from startup script.</p>
<h1>kill -9 pid</h1>
<h1>update-rc.d -f remove apache2</h1>
<h1>update-rc.d -f remove sendmail</h1>
<p>Ok, that left me around 5 mb used memory. Not bad :)
Next thing is to replace the default shell, since bash shell become greedy enough to eat my memory. I replaced it with pdksh since after googling around, this pdksh shell saves ~1mb for every shell session...good enough. So I install it :</p>
<h1>apt-get install pdksh</h1>
<p>Dont remove the bash shell yet, since it has a lot of dependencies. Leave it there, but dont use it :) How do we do that ? Just edit your own default shell to become pdksh in /etc/passwd :</p>
<h1>vi /etc/passwd</h1>
<p>Change the line using /bin/bash, into /bin/pdksh, and voillaa, next login session will be using pdksh.</p>
<p>Not enought with just # prompt ? It's time to decorate your shell with some fancy prompts, just edit the .profile located inside the user's home directory ( just do ls -la to see it, since it's a hidden file ). Add the following line :</p>
<p>HOSTNAME=<code>hostname</code>
PS1=`print "</p>                </article>
<p class="paginator">
    Page 1 / 1
</p>
            </aside><!-- /#featured -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>