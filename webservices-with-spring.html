<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>JPrasojo's blog</title>
	<meta name="description" content="">
	<meta name="author" content="Lintang JP">

	<!-- HTML5 shim, for IE6-8 support of HTML elements -->
	<!--[if lt IE 9]>
		<script src="/theme/html5.js"></script>
	<![endif]-->

	<!-- Styles -->
	<link href="/theme/bootstrap.min.css" rel="stylesheet">
	<link href="/theme/local.css" rel="stylesheet">
	<link href="/theme/pygments.css" rel="stylesheet">

	<!-- Feeds -->




</head>
<body>
	<div class="topbar">
	  <div class="topbar-inner">
		<div class="container-fluid">
		  <a class="brand" href="/">JPrasojo's blog</a>
			<ul class="nav">
						<li><a href="/pages/hello-world.html">About</a></li>
					<li ><a href="/category/blog.html">Blog</a></li>
					<li class="active"><a href="/category/java.html">Java</a></li>
					<li ><a href="/category/renungan.html">Renungan</a></li>
					<li ><a href="/category/telco.html">Telco</a></li>
					<li ><a href="/category/travelling.html">Travelling</a></li>
					<li ><a href="/category/unixlinux.html">Unix/Linux</a></li>
			</ul>
			<p class="pull-right"><a href="/archives.html">[archives]</a> <a href="/tags.html">[tags]</a></p>
		</div>
	  </div>
	</div>

	<div class="container-fluid">
	  <div class="sidebar">
		<div class="well">
			<h3>Blogroll</h3>
			<ul>
				<li><a href="http://getpelican.com/">Pelican</a></li>
				<li><a href="http://python.org/">Python.org</a></li>
				<li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
				<li><a href="http://theprasojos.wordpress.com">Theprasojos Family</a></li>
			</ul>
			<div class="social">
			<h3>Social</h3>
			<ul>
				<li><a href="https://twitter.com/jprasojo">Twitter</a></li>
				<li><a href="https://www.linkedin.com/in/lintangprasojo">Linkedin</a></li>
			</ul>
			</div>
		</div>
	  </div>
	  <div class="content">
	<div class='article'>
		<div class="page-header"><h1>Webservices with spring</h1></div>
		<div class="well small">Permalink: <a class="more" href="/webservices-with-spring.html">2007-06-03 00:00:00+01:00</a>
by <a class="url fn" href="/author/lintang-jp.html">Lintang JP </a>
 in <a href="/category/java.html">Java</a>
tags: <a href="/tag/.html"></a> </div>
		<div><p>These few days, I had a task to create a webservice client. Sounds interesting and challenging, because usually if we depends on weblogic's control, we can make any webservices client much much easier, just a few click, and tadaaa. The problem is, the webservice client will become stand alone module, so, I can't use any java controls since those controls will be managed by weblogic container during runtime.
Then I turn to find another simple and fast way to create webservice client. But, before that of course, since the remote system is not ready yet, I have to create some dummy web service first. Weblogic 9.2 having strange behaviour. First, we create webservice project from the Eclipse-based-IDE. After that, we generate the wsdl files. But, dont ever try to validate it :D because it will fail. Just pass and use those webservice to create weblogic client. That's strange, fail to validate, but it works :D</p>
<p>Ok, dont waste time, since I already had the webservice simulator works no matter how :p I began to create the webservice client. Coding from scratch ? no, it's painful, and I need to do it fast. I turn out to spring and axis which offers it's integration. This is my bean config sample :
[code]</p>
<p>org.apache.axis.client.ServiceFactory</p>
<p>http://localhost:7001/AggregatedInfoFeederSimulator/AggregatedInfo?WSDL</p>
<p>http://com/ericsson/aggregateinfo/sub/services</p>
<p>AggregatedInfoService</p>
<p>AggregatedInfoSoapPort</p>
<p>com.ericsson.mi3g.sub.aggregatedinfo.wsclient.RemoteInfoPortIntf</p>
<p>com.ericsson.mi3g.sub.aggregatedinfo.wsclient.RemoteInfoServiceIntf</p>
<p>[/code]</p>
<p>I'm using AggregatedInfoJaxRpcProxyFactoryBean, this is a class that extends JaxRpcPortProxyFactoryBean. We need to extend it to override the postProcessJaxRpcService(Service service) method that will be used to register which deserializer would be used to object that I pull from webservice. First time I try to run, the method is not being called at all, I'm curious. But after googling, I found out that we need to import the right class for the arguments. It should be javax.xml.rpc.encoding.Service;</p>
<p>Ok, the webservice client is done, now it's time to develop the database persistence part. I'm using Ibatis. Ibatis is cool, and I prefer this to hibernate if we need to do the complex query. In telco apps, there are no such simple query, right ? also, we need to be ready if someday the query changed, new field added, depends on requirement.</p>
<p>The database persistence done. Now, create the ant script to run this module, since I had lots of CLASSPATH to include. I can't put it all in bash script and change all the path when it's moved out to production. So, this is my ant script :</p>
<p>I also add quartz, since this module will run daily. Quartz is a enterprise scheduler written in java. Here's my configuration :</p>
<p>run</p>
<p>5000</p>
<p>172800000</p>
<p>And that's it, I'm done.</p>
<p>logger.info("from cyberjava with love....");
Originally posted 4/19/07.</p></div>
	</div>
		<footer>
		  <p>Powered by <a href="http://getpelican.com/">Pelican</a>. Theme based on <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap</a>.</p>
		  <p>&copy; Lintang JP</p>
		</footer>
	  </div>

	</div>
</body>
</html>